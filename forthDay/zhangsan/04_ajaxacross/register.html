<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>注册界面</title>
	<script type="text/javascript">
		window.onload = function(){

			var username = document.querySelector("#username");
			var email = document.querySelector("#email");
			var phone = document.querySelector("#phone");


			email.onblur = function(){
				var emailValue = email.value;
				var xhr = null;
				if(window.XMLHttpRequest) {
					xhr = new XMLHttpRequest();
				} else {
					xhr = new ActiveXObject("Microsoft.XMLHTTP");
				}
				var param = "e=" + emailValue;
				xhr.open("post","http://www.lisi.com/server/checkEmail.php",true);
				xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
				xhr.send(param);

				xhr.onreadystatechange = function(){
					if(xhr.readyState == 4) {
						if(xhr.status == 200){
							var result = xhr.responseText;
							var email_result = document.querySelector("#email_result");
							if(result == 0) {
								//邮箱可用
								email_result.innerText = "邮箱可以使用";
							} else {
								email_result.innerText = "邮箱不可以使用";
							}
						}
					}
				};
			};





		};
	</script>
</head>
<body>

	<h1>注册界面</h1>
	<form action="">
		用户名：<input type="text" id="username"><span id="username_result"></span><br>
		邮箱:<input type="text" id="email"><span id="email_result"></span><br>
		手机号码：<input type="text" id="phone"><span id="phone_result"></span><br>
	</form>
	
</body>
</html>